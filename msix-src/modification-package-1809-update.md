---
title: Пакеты изменений MSIX в обновлении Windows 10, версия 1809
description: Узнайте, как использовать пакеты изменений в обновлении Windows 10, версия 1809
ms.date: 01/15/2019
ms.topic: article
keywords: windows 10, uwp, msix
ms.localizationpriority: medium
ms.custom: RS5, seodec18
ms.openlocfilehash: 48e3eb8414b827ba1675214e9c0eec7ca451103f
ms.sourcegitcommit: 8a75eca405536c5f9f7c4fd35dd34c229be7fa3e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/31/2019
ms.locfileid: "68685368"
---
# <a name="msix-modification-packages-on-windows-10-version-1809"></a>Пакеты изменений в Windows 10, версия 1809 

Начиная с Windows 10, версия 1809, вы можете упаковывать подключаемые модули на основе реестра и выполнять настройку в [пакете изменений MSIX](modification-packages.md). Настройка может включать конфигурации, определяемые в реестре для правильного выполнения основного пакета. Это значит, что главное приложение использует реестр, чтобы определить наличие подключаемого модуля. После развертывания главного пакета и пакета изменений выполняемое приложение будет просматривать виртуальный реестр (VREG) для обоих пакетов. 

Обратите внимание, что ваш основной пакет может использовать VREG для выполнения следующих задач: 
1.  Просмотр расположений для загрузки файла (например библиотеки DLL или подключаемого модуля). В таком случае убедитесь, что файл является частью пакета. Так главный пакет сможет обращаться к файлу во время выполнения.  
2.  Просмотр расположения для определения значения реестров VREG. Ваш основной пакет может искать значения, которое должно существовать во VREG. При создании пакета изменений вручную или с помощью нашего [средства](https://www.microsoft.com/en-us/p/msix-packaging-tool/9n5lw3jbcxkf) убедитесь, что значение является правильным. 

## <a name="create-a-modification-package-using-the-msix-packaging-tool"></a>Создание пакета изменений с помощью средства упаковки MSIX

Чтобы создать пакет изменений с помощью средства упаковки MSIX, сделайте следующее:
* Определите основной пакет. Убедитесь, что версия MSIX основного пакета установлена на компьютере, на котором выполняется преобразование. В противном случае вам нужно вручную указать сведения об издателе и основном приложении. Также для некоторых конфигураций требуется, чтобы основное приложение было установлено на вашем компьютере.
![Пакеты изменений — MPT](images/MPT-mod-page.png)

* После преобразования пакет можно изменить один раз с помощью редактора пакетов. Иногда для основного пакета требуется, чтобы с пакетом изменений были связаны определенные значения во VREG. В таком случае вам нужно изменить этот пакет соответствующим образом. 

## <a name="create-a-modification-package-using-makeappxexe"></a>Создание пакета изменений с помощью MakeAppx.exe

Чтобы создать пакет изменений вручную с помощью средства [MakeAppX.exe](package/create-app-package-with-makeappx-tool.md), включенного в пакет SDK для Windows 10, сделайте следующее:
* В манифесте определите основной пакет. Укажите издателя и имя основного пакета.

    ```xml
    <Dependencies>
      <TargetDeviceFamily Name="Windows.Desktop" MinVersion="10.0.17701.0" MaxVersionTested="12.0.0.0"/>
      <uap4:MainPackageDependency Name="HeadTrax" Publisher="CN=Contoso Software, O=Contoso Corporation, C=US" />
    </Dependencies>
    ```
- Создайте Registry.dat, User.dat и Userclass.dat, чтобы создать разделы реестра, требуемые для загрузки пакета изменений. Так основное приложение сможет просматривать пользовательские разделы реестра. Помните, что все компоненты выполняются в контейнере, поэтому во время выполнения виртуальные реестры основного пакет и пакета изменений будут объединены, чтобы основной пакет мог просматривать виртуальный реестр пакета изменений.  

Этот процесс также поддерживает конфигурации и подключаемые модули файловой системы файлов, так как исполняемый файл основного приложения не находится в виртуальной файловой системе (VFS). Это гарантирует, что основной пакет получит доступ к VFS основного пакета и пакета изменений. 

Мы планируем реализовать поддержку конфигураций и подключаемых модулей файловой системы при запуске исполняемого файла основного приложения в VFS в следующем основном выпуске Windows. Эта поддержка в режиме предварительной версии будет доступна, начиная с Windows 10 Insider Preview, сборка 18312 или более поздней версии. Дополнительные сведения см. в [этой статье](modification-package-1903.md). 

