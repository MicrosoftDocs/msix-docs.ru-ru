---
author: mcleanbyron
Description: Платформа поддержки пакетов позволяет устранять проблемы, препятствующие выполнению классических приложений в контейнере MSIX.
title: Платформа поддержки пакетов
ms.author: mcleans
ms.date: 09/05/2018
ms.topic: article
keywords: windows 10, uwp, msix
ms.localizationpriority: medium
ms.custom: RS5
ms.openlocfilehash: f009690a704347e70db716b5491a873a820a0434
ms.sourcegitcommit: 789bef8a4d41acc516b66b5f2675c25dcd7c3bcf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/14/2019
ms.locfileid: "65985924"
---
# <a name="package-support-framework"></a>Платформа поддержки пакетов

Платформа поддержки пакетов — это набор средств с открытым исходным кодом, который помогает применять исправления к существующим приложениям win32 для выполнения в контейнере MSIX, когда у вас нет доступа к исходному коду. Платформа поддержки пакетов помогает настроить приложения в соответствии с требованиями современных сред выполнения.

Чтобы создать платформу поддержки пакетов, мы использовали технологию [Detours](https://www.microsoft.com/en-us/research/project/detours) — платформу с открытым исходным кодом, разработанную Microsoft Research (MSR), которая помогает выполнять подключения и перенаправления API.

Это упрощенная платформа с открытым кодом, с помощью которой можно быстро устранять неполадки с приложениями. Основанная на совместной работе многих участников, она также позволяет обращаться к сообществу пользователей по всему миру.

См. подробнее о [применении исправлений среды выполнения к пакету MSIX с помощью платформы поддержки пакетов](https://docs.microsoft.com/windows/uwp/porting/package-support-framework).

## <a name="a-quick-look-inside-of-the-package-support-framework"></a>Краткий обзор платформы поддержки пакетов

Платформа поддержки пакетов содержит исполняемый файл, библиотеку DLL диспетчера среды выполнения и набор исправлений для среды выполнения.

![Платформа поддержки пакетов](images/package-support-framework.png)

Вот как это работает. Вы создаете файл конфигурации, чтобы определить исправления, которые нужно применить к приложению. Затем вы изменяете пакет, чтобы определить исполняемый файл средства запуска платформы поддержки пакетов.

Когда пользователь запускает приложение, средство запуска платформы поддержки пакетов является первым исполняемым файлом. Он считывает файл конфигурации и внедряет исправления среды выполнения и библиотеку DLL диспетчера среды выполнения в процесс приложения. Диспетчер среды выполнения применяет исправление, когда это требуется для выполнения приложения в контейнере MSIX.

![Внедрение библиотеки DLL платформы поддержки пакетов](images/package-support-framework-2.png)

## <a name="how-to-use-the-package-support-framework"></a>Использование платформы поддержки пакетов

Создав пакет для приложения, установите и запустите его, а также понаблюдайте за его поведением. Могут появиться сообщения об ошибке, которые помогут выявить проблемы с совместимостью. Вы также можете использовать [Монитор процесса](https://docs.microsoft.com/sysinternals/downloads/procmon) для выявления проблем.

Обнаружив проблему, можно просмотреть соответствующую страницу [GitHub](https://github.com/Microsoft/MSIX-PackageSupportFramework/), чтобы получить исправление. Найдя нужное исправление, вы можете применить его к своему пакету. В этом [пошаговом руководстве](https://docs.microsoft.com/windows/uwp/porting/package-support-framework) показано, как это сделать. Вы также узнаете, как использовать отладчик Visual Studio, чтобы поэтапно проверить работу приложения и убедиться, что исправление работает и что проблемы совместимости решены.

Если вы не можете найти исправление среды выполнения, которое устранит вашу проблему, его можно создать. Для этого вам нужно определить, какая функция вызывает сбой при запуске приложения в контейнере MSIX. Затем вам нужно создать альтернативные функции, которые должен вызвать диспетчер среды выполнения. Это позволит вам заменить реализацию функции, чтобы ее поведение соответствовало правилам работы с современными средами выполнения.

## <a name="get-started-with-the-package-support-framework"></a>Начало работы с платформой поддержки пакетов

Если вы готовы начать работу с платформой поддержки пакетов для устранения проблем с совместимостью, см. пошаговое руководство по [применению исправлений среды выполнения к пакету MSIX с помощью платформы поддержки пакетов](https://docs.microsoft.com/windows/uwp/porting/package-support-framework).
