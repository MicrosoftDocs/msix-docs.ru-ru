---
title: Настройка корпоративных приложений с помощью пакетов изменений
description: В этой статье описывается, как токустомизе ваши корпоративные приложения с помощью пакетов MSIX модификации, в которых хранятся настройки.
ms.date: 01/15/2019
ms.topic: article
keywords: windows 10, uwp, msix
ms.localizationpriority: medium
ms.custom: RS5, seodec18
ms.openlocfilehash: 6db2a7aa009f0a4bce9a2aa8950e029473df63aa
ms.sourcegitcommit: 90eed7d23240aefa3761085955a193323f4661d4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2020
ms.locfileid: "75831467"
---
# <a name="customize-your-enterprise-apps-with-modification-packages"></a>Настройка корпоративных приложений с помощью пакетов изменений 

Возможность настройки взаимодействия с приложением важна, особенно для предприятий. Мы работаем над ИТ-специалистами и знаете, что настройка приложений в соответствии с потребностями пользователей очень необходима для перехода на Windows 10. При настройке приложений, упакованных с помощью MSI, хорошо понимается, что ИТ-специалисты должны получить пакет от разработчиков и повторно упаковать установщик с настройками в соответствии со своими потребностями. Это дорогостоящие усилия для предприятий. Перемещаясь вперед, мы хотим отделить настройку и основное приложение, чтобы повторно упаковать больше не нужно. Это гарантирует, что предприятия получают последние обновления от разработчиков, сохраняя при этом контроль над их настройками.

В Windows 10 версии 1809 мы представили новый тип пакета MSIX, именуемый *пакетом модификации*. Пакеты изменений — это MSIX пакеты, в которых хранятся настройки. Пакеты изменений также могут быть подключаемыми модулями или надстройками, которые могут не иметь точки активации. ИТ-специалисты могут использовать эту функцию для гибких контейнеров изменений MSIX, чтобы приложения были перемещаются по настройкам предприятия. Мы рады, что эта функция и познакомьтесь с улучшениями в будущих выпусках. 

## <a name="how-it-works"></a>Как это работает

Пакеты изменений предназначены для предприятий, которые не владеют кодом приложения и имеют только установщик. Пакет изменений можно создать с помощью последней версии средства упаковки MSIX (для Windows 10 версии 1809 или более поздней). Если у вас есть код для приложения, можно также создать [расширение приложения](https://docs.microsoft.com/windows/uwp/launch-resume/how-to-create-an-extension). 

<div class="nextstepaction"><p><a class="x-hidden-focus" href="https://www.microsoft.com/p/msix-packaging-tool/9n5lw3jbcxkf" data-linktype="external">Получить средство упаковки MSIX</a></p></div>

Если вы хотите создать пакет модификации, имеющий ограниченную привязку к главному приложению, можно объявить основное приложение как зависимость в манифесте пакета изменений. 

``` xml
<Dependencies>
    <TargetDeviceFamily Name="Windows.Desktop" MinVersion="10.0.15063.0"/>
    <uap4:MainPackageDependency Name="Main.App"/>
</Dependencies>
```

В следующем примере показано, как указать другой сертификат или издатель.

``` xml
<Dependencies>
    <TargetDeviceFamily Name="Windows.Desktop" MinVersion="10.0.15063.0"/>
    <uap4:MainPackageDependency Name="Main.App" Publisher="CN=Contoso, C=US" />
</Dependencies>

```

Это простая конфигурация, если связь между пакетом изменений и основным пакетом — один к одному. Типичные настройки часто занимают разделы реестра в разделе HKEY_CURRENT_USER или HKEY_CURRENT_USERCLASS. Внутри нашего пакета MSIX у нас есть файлы user. dat и userclass. dat для записи разделов реестра. Необходимо создать User. dat, если вам нужны разделы реестра в разделе Хкку\софтваре\* (так же, как Registry. dat используется для HKLM\Software\*). Используйте userclass. dat, если вам нужны ключи в разделе Хкку\софваре\классес\*. 

Ниже приведены типичные способы создания файла. dat. 

1. Создайте файл с помощью Regedit. Создайте куст реестра в Regedit и вставьте необходимые ключи. По сравнению с щелчком правой кнопкой мыши, экспортом и сохранением файла Hive. Убедитесь, что имя файла — User. dat или userclass. dat.

2. Используйте API для создания необходимых файлов. Для сохранения dat-файла можно использовать функцию [орсавехиве](https://docs.microsoft.com/windows/win32/devnotes/orsavehive) . Убедитесь, что имя файла Ether User. dat или userclass. dat

После внесения необходимых изменений можно создать пакет изменений, как и любой другой пакет MSIX. Затем можно развернуть пакет с текущим набором развертывания. При перезапуске основного приложения можно увидеть изменения, внесенные в пакет изменений. Если вы решили удалить пакет изменений, основное приложение вернется в состояние без пакета изменений. 

## <a name="find-out-what-modification-packages-are-installed-on-your-device"></a>Узнайте, какие пакеты изменений установлены на вашем устройстве
С помощью PowerShell можно просмотреть установленные пакеты изменений с помощью: Get-AppPackage-Паккажетипефилтер необязательно.

## <a name="see-also"></a>См. также статью
- [Пакеты изменений в Windows 10 версии 1809](modification-package-1809-update.md)
- [Пакеты изменений в Windows 10 версии 1903](modification-package-1903.md)
