---
description: В этой статье приводятся рекомендации по запуску, отладке и тестированию упакованного классического приложения, чтобы подготовить его к установке.
title: Запуск, отладка и тестирование упакованного классического приложения (мост для классических приложений)
ms.date: 02/03/2020
ms.topic: article
keywords: windows 10, uwp, msix
ms.assetid: f45d8b14-02d1-42e1-98df-6c03ce397fd3
ms.localizationpriority: medium
ms.openlocfilehash: f778c51afe1e25bbadca48dc2d9644e8645bdde3
ms.sourcegitcommit: ccfd90b4a62144f45e002b3ce6a2618b07510c71
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/24/2020
ms.locfileid: "77072814"
---
# <a name="run-debug-and-test-an-msix-package"></a>Запуск, отладка и тестирование пакета MSIX

Запустите неподписанное упакованное приложение и посмотрите, как оно выглядит. Затем установите точки останова и пошагово выполните код. Когда будете готовы протестировать приложение в рабочей среде, подпишите его, а затем установите. В данной статье приведено подробное описание выполнения каждого из этих действий.

<a id="run-app" />

## <a name="run-your-application"></a>Запуск приложения

Чтобы запустить приложение для локальной проверки, не обязательно получать сертификат и подписывать его. Способ запуска приложения зависит от инструмента, использованного для создания пакета.

### <a name="you-created-the-package-by-using-visual-studio"></a>Вы создали пакет с помощью Visual Studio

Назначьте упаковывающий проект стартовым и нажмите клавиши CTRL+F5, чтобы запустить приложение.

### <a name="you-created-the-package-using-a-different-tool"></a>Вы создали пакет с помощью другого средства

Откройте командную строку Windows PowerShell и в корневом каталоге файлов пакета выполните следующий командлет.

```
Add-AppxPackage –Register AppxManifest.xml
```
Чтобы запустить приложение, найдите его в меню "Пуск" Windows.

![Упакованное приложение в меню "Пуск"](images/converted-app-installed.png)

> [!NOTE]
> Упакованное приложение всегда выполняется от лица текущего пользователя, а диск, на который производится установка приложения, должен быть отформатирован в NTFS.

## <a name="debug-your-app"></a>Отладка приложения

Способ отладки приложения зависит от инструмента, использованного для создания пакета.

Если ваш пакет создан с помощью [нового проекта упаковки](desktop-to-uwp-packaging-dot-net.md#new-packaging-project), доступного в Visual Studio 2017 версии 15.4 и более поздних версий (включая Visual Studio 2019), просто задайте упаковывающий проект в качестве стартового проекта и нажмите сочетание клавиш CTRL+F5, чтобы отладить приложение.

Если вы создали пакет с помощью другого инструмента, выполните следующие действия.

1. Обязательно запустите свое упакованное приложение хотя бы один раз, чтобы оно полностью установилось на локальном компьютере.

   См. раздел [Запуск приложения](#run-app) выше.

2. Запустите Visual Studio.

   Если вы хотите выполнить отладку приложения с более высоким уровнем разрешений, запустите Visual Studio с помощью команды **Запуск от имени администратора**.

3. В Visual Studio выберите **Отладка**->**Другие целевые объекты отладки**->**Отладка установленного пакета приложения**.

4. В списке **Установленные пакеты приложения** выберите соответствующий пакет приложения, а затем нажмите кнопку **Вложить**.

#### <a name="modify-your-application-in-between-debug-sessions"></a>Изменение приложения между сеансами отладки

Чтобы внести в приложение изменения для устранения неполадок, распакуйте его с помощью средства MakeAppx. См. раздел [Запуск средства MakeAppx](desktop-to-uwp-manual-conversion.md#make-appx).

### <a name="debug-the-entire-application-lifecycle"></a>Отладка всего жизненного цикла приложения

В некоторых случаях вам может потребоваться более точное управление процессом отладки, включая возможность отладки приложения до его запуска.

Воспользуйтесь [PLMDebug](https://msdn.microsoft.com/library/windows/hardware/jj680085(v=vs.85).aspx), чтобы получить полный контроль над жизненным циклом приложения, включая приостановку, возобновление и завершение работы.

[PLMDebug](https://msdn.microsoft.com/library/windows/hardware/jj680085(v=vs.85).aspx) входит в состав Windows SDK.

## <a name="test-your-app"></a>Тестирование приложения

Чтобы развернуть упакованное приложение для комплексного тестирования в процессе подготовки к распространению, пакет необходимо подписать сертификатом, который является доверенным на компьютере, на котором развертывается приложение.

### <a name="test-an-application-that-you-packaged-by-using-visual-studio"></a>Тестирование приложения, упакованного с помощью Visual Studio

Visual Studio подписывает ваше приложение, используя тестовый сертификат. Этот сертификат находится в папке вывода, создаваемой мастером **Создание пакетов приложения**. Файл сертификата имеет расширение *.cer*, и его необходимо установить в хранилище **Доверенные лица** на ПК, на котором требуется протестировать ваше приложение. См. статью [Package a desktop or UWP app in Visual Studio](../package/packaging-uwp-apps.md#generate-an-app-package) (Упаковка классического приложения или приложения UWP в Visual Studio).

### <a name="test-an-application-that-you-packaged-using-a-different-tool"></a>Тестирование приложения, упакованного с помощью другого средства

При упаковке за пределами Visual Studio, пакет приложения можно подписать с помощью средства подписи. Если используемый для подписывания сертификат не является доверенным на проверяемом компьютере, его необходимо установить в хранилище сертификатов "Доверенные лица" до установки пакета приложения. 

#### <a name="sign-your-application-package"></a>Подписывание пакета приложения

Чтобы подписать пакет приложения вручную, выполните следующие действия.

1. Создайте сертификат. См. статью [Создание сертификата](../package/create-certificate-package-signing.md).

2. Установите этот сертификат на свой компьютер в хранилище сертификатов **Доверенные лица**.

3. Подпишите приложение с помощью этого сертификата; см. статью [Sign an app package using SignTool](../package/sign-app-package-using-signtool.md) (Подписание пакета приложения с помощью SignTool).

  > [!IMPORTANT]
  > Убедитесь, что имя издателя на сертификате совпадает с именем издателя вашего приложения.

**Связанный пример**

[SigningCerts](https://github.com/Microsoft/DesktopBridgeToUWP-Samples/tree/master/Samples/SigningCerts)


### <a name="test-your-application-for-windows-10-s"></a>Тестирование приложения для Windows 10 S

Прежде чем публиковать приложение, убедитесь, что оно сможет корректно работать на устройствах под управлением Windows 10 S. На самом деле, если вы планируете опубликовать приложение в Microsoft Store, это надо сделать обязательно, поскольку это требование этого магазина. Приложения, которые не могут правильно работать на устройствах под управлением Windows 10 S, не пройдут сертификацию.

См. статью [Test your Windows app for Windows 10 in S mode](desktop-to-uwp-test-windows-s.md) (Тестирование приложения для Windows 10 в режиме S).

### <a name="run-another-process-inside-the-full-trust-container"></a>Запуск другого процесса в контейнере с полным доверием

Вы можете вызывать пользовательские процессы внутри контейнера указанного пакета приложения. Это бывает полезно при тестировании, — например, если у вас пользовательское окружение теста и вам требуется протестировать выходные данные приложения. Сделать это можно с помощью командлета ```Invoke-CommandInDesktopPackage``` PowerShell:

```CMD
Invoke-CommandInDesktopPackage [-PackageFamilyName] <string> [-AppId] <string> [-Command] <string> [[-Args]
    <string>]  [<CommonParameters>]
```

## <a name="next-steps"></a>Дальнейшие действия

Есть вопросы? Обратитесь к нам в [MSIX Tech Community](https://techcommunity.microsoft.com/t5/msix/ct-p/MSIX).
