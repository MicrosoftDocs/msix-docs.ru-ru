---
description: В этой статье содержатся рекомендации по запуску, отладке и тестированию упакованного настольного приложения, чтобы подготовить его к развертыванию.
title: Запуск, отладка и тестирование упакованного классического приложения (мост для классических приложений)
ms.date: 07/29/2019
ms.topic: article
keywords: windows 10, uwp, msix
ms.assetid: f45d8b14-02d1-42e1-98df-6c03ce397fd3
ms.localizationpriority: medium
ms.openlocfilehash: 7f84ce726518eee6e916ad7e7c73e236451a4fcd
ms.sourcegitcommit: 97166b4a273cea789aedcfbb3cba4ce074958ed8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2020
ms.locfileid: "76723351"
---
# <a name="run-debug-and-test-a-packaged-desktop-application"></a>Запуск, отладка и тестирование упакованного классического приложения

Запустите упакованное приложение и посмотрите, как оно выглядит без подписи. Затем установите точки останова и пошагово выполните код. Когда вы будете готовы протестировать приложение в рабочей среде, подпишите приложение и установите его. В данной статье приведено подробное описание выполнения каждого из этих действий.

<a id="run-app" />

## <a name="run-your-application"></a>Запуск приложения

Приложение можно запустить для локального тестирования без получения сертификата и его подписания. Способ запуска приложения зависит от того, какое средство использовалось для создания пакета.

### <a name="you-created-the-package-by-using-visual-studio"></a>Вы создали пакет с помощью Visual Studio

Назначьте упаковывающий проект стартовым и нажмите клавиши CTRL+F5, чтобы запустить приложение.

### <a name="you-created-the-package-using-a-different-tool"></a>Вы создали пакет с помощью другого средства

Откройте командную строку Windows PowerShell и в корневом каталоге файлов пакета выполните следующий командлет:

```
Add-AppxPackage –Register AppxManifest.xml
```
Чтобы запустить приложение, найдите его в меню "Пуск" Windows.

![Упакованное приложение в меню "Пуск"](images/converted-app-installed.png)

> [!NOTE]
> Упакованное приложение всегда запускается как интерактивный пользователь, а любой диск, на котором устанавливается упакованное приложение, должен быть отформатирован в формате NTFS.

## <a name="debug-your-app"></a>Отладка приложения

Способ отладки приложения зависит от того, какое средство использовалось для создания пакета.

Если вы создали пакет с помощью [нового проекта упаковки](desktop-to-uwp-packaging-dot-net.md#new-packaging-project) , доступного в Visual Studio 2017 версии 15,4 и более поздних версий (включая Visual Studio 2019), просто задайте проект упаковки в качестве запускаемого проекта, а затем нажмите клавишу F5 для отладки приложения.

Если вы создали пакет с помощью любого другого средства, выполните следующие действия.

1. Запустите упакованное приложение по крайней мере один раз, чтобы оно было установлено на локальном компьютере.

   См. раздел [Запуск приложения](#run-app) выше.

2. Запустите Visual Studio.

   Если вы хотите выполнить отладку приложения с повышенными разрешениями, запустите Visual Studio с помощью команды **Запуск от имени администратора** .

3. В Visual Studio выберите **Отладка**->**Другие цели отладки**->**Отладка установленного пакета приложения**.

4. В списке **Установленные пакеты приложения** выберите соответствующий пакет приложения, а затем нажмите кнопку **Вложить**.

#### <a name="modify-your-application-in-between-debug-sessions"></a>Изменение приложения в между сеансами отладки

Если внести изменения в приложение для исправления ошибок, переупакуйте его с помощью средства программе makeappx. См. раздел [Запуск средства MakeAppx](desktop-to-uwp-manual-conversion.md#make-appx).

### <a name="debug-the-entire-application-lifecycle"></a>Отладка всего жизненного цикла приложения

В некоторых случаях может потребоваться более детальный контроль над процессом отладки, включая возможность отладки приложения перед его запуском.

[Плмдебуг](https://msdn.microsoft.com/library/windows/hardware/jj680085(v=vs.85).aspx) можно использовать для получения полного контроля над жизненным циклом приложения, включая приостановку, возобновление и завершение.

[PLMDebug](https://msdn.microsoft.com/library/windows/hardware/jj680085(v=vs.85).aspx) входит в состав Windows SDK.

## <a name="test-your-app"></a>Тестирование приложения

Чтобы развернуть упакованное приложение для комплексного тестирования в процессе подготовки к распространению, необходимо подписать пакет сертификатом, который является доверенным на компьютере, на котором вы развертываете приложение.

### <a name="test-an-application-that-you-packaged-by-using-visual-studio"></a>Тестирование приложения, упакованного с помощью Visual Studio

Visual Studio подписывает приложение с помощью тестового сертификата. Этот сертификат находится в папке вывода, создаваемой мастером **Создание пакетов приложения**. Файл сертификата имеет расширение *CER* , и вам потребуется установить этот сертификат в хранилище сертификатов " **Доверенные лица** " на компьютере, на котором требуется протестировать приложение. См. раздел [Загрузка пакета неопубликованного приложения](../package/packaging-uwp-apps.md#sideload-your-app-package).

### <a name="test-an-application-that-you-packaged-using-a-different-tool"></a>Тестирование приложения, упакованного с помощью другого средства

При упаковке приложения за пределами Visual Studio можно подписать пакет приложения с помощью средства Sign Tool. Если сертификат, используемый для подписывания, не является доверенным на проверяемом компьютере, необходимо установить сертификат в хранилище сертификатов доверенных лиц, прежде чем устанавливать пакет приложения. 

#### <a name="sign-your-application-package"></a>Подписывание пакета приложения

Чтобы вручную подписать пакет приложения, выполните следующие действия.

1. Создайте сертификат. См. статью [Создание сертификата](../package/create-certificate-package-signing.md).

2. Установите этот сертификат в хранилище сертификатов " **Доверенные лица** " в вашей системе.

3. Подпишите приложение с помощью этого сертификата. см. раздел [Подписывание пакета приложения с помощью средства SignTool](../package/sign-app-package-using-signtool.md).

  > [!IMPORTANT]
  > Убедитесь, что имя издателя на сертификате совпадает с именем издателя вашего приложения.

**Связанный пример**

[сигнингцертс](https://github.com/Microsoft/DesktopBridgeToUWP-Samples/tree/master/Samples/SigningCerts)


### <a name="test-your-application-for-windows-10-s"></a>Тестирование приложения для Windows 10 S

Перед публикацией приложения убедитесь, что оно будет правильно работать на устройствах под управлением Windows 10 S. На самом деле, если вы планируете опубликовать приложение на Microsoft Store, это необходимо сделать, так как это требование к хранению. Приложения, которые не могут правильно работать на устройствах под управлением Windows 10 S, не пройдут сертификацию.

См. статью [Тестирование приложения Windows для Windows 10](desktop-to-uwp-test-windows-s.md).

### <a name="run-another-process-inside-the-full-trust-container"></a>Запуск другого процесса в контейнере с полным доверием

Вы можете вызывать пользовательские процессы внутри контейнера указанного пакета приложения. Это бывает полезно при тестировании, — например, если у вас пользовательское окружение теста и вам требуется протестировать выходные данные приложения. Сделать это можно с помощью командлета ```Invoke-CommandInDesktopPackage``` PowerShell:

```CMD
Invoke-CommandInDesktopPackage [-PackageFamilyName] <string> [-AppId] <string> [-Command] <string> [[-Args]
    <string>]  [<CommonParameters>]
```

## <a name="next-steps"></a>Дальнейшие действия

Есть вопросы? Попросите нас обратиться к [сообществу MSIX Tech](https://techcommunity.microsoft.com/t5/msix/ct-p/MSIX).
