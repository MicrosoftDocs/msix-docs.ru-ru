---
Description: Создание пакета современного приложения для Windows для существующего приложения или игры Win32, Windows Forms или WPF. Добавьте современные интерфейсы для пользователей Windows 10 и упрощения развертывания и монетизацию.
title: Упаковка классических приложений
ms.date: 09/05/2018
ms.topic: article
author: dianmsft
ms.author: diahar
keywords: windows 10, uwp, msix
ms.assetid: 74373c24-f948-43bb-aa85-01e2e8e87162
ms.localizationpriority: medium
ms.custom: RS5
ms.openlocfilehash: 388de972a2ac97418e2f684c57c7aff550292b9e
ms.sourcegitcommit: 52010495873758d9bfe7a9fb0b240108b25b3d3c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2019
ms.locfileid: "67555507"
---
# <a name="package-desktop-applications-desktop-bridge"></a>Классические приложения пакета (мост для классических приложений)

Воспользоваться существующего классического приложения и добавьте современные интерфейсы для пользователей Windows 10. После этого вы сможете охватить международные рынки путем распространения приложения через Microsoft Store. В более удобные средства можно получать прибыль приложения путем использования функций, встроенная прямо в Store. Конечно не нужно использовать Store. Вы можете использовать существующие каналы.

При создании пакета для приложения для настольных компьютеров, приложение будет получение удостоверения и с данным удостоверением своего настольного приложения имеет доступ к Windows универсальной API платформы (UWP). Их можно использовать для активации современных и привлекательных возможностей, таких как живые плитки и уведомления. Используйте простой условной компиляции и проверки времени выполнения для запуска кода в UWP только в том случае, если приложение выполняется в Windows 10.

Помимо код, который используется для улучшения работы в Windows 10 приложение остается неизменной, и вы можете распространять его среди пользователей в предыдущих версиях Windows. В Windows 10, приложение продолжает выполняться с полным уровнем доверия пользовательском режиме, так же, как он известен на сегодня.

## <a name="prepare"></a>Подготовка

Во-первых, подготовьте приложение, перебирая [Подготовка для упаковки приложения рабочего стола](desktop-to-uwp-prepare.md)и затем адресации проблемы, которые применяются к приложению, перед созданием пакета приложений Windows для него. Не может потребоваться внести много изменений в приложение, прежде чем создавать пакет. Однако существуют некоторые ситуации может потребоваться настроить приложение, перед созданием пакета для него.

<a id="convert" />

## <a name="package"></a>Пакет

Создание пакета MSIX для вашего приложения несколькими способами.

### <a name="build-an-msix-from-an-existing-app-installer"></a>Строится на основе существующего приложения установщика MSIX

Если у вас уже есть пакета приложения (например, MSI или установщика App-V), мы рекомендуем использовать [средство упаковки MSIX](../mpt-overview.md) повторной упаковки существующего классического приложения в формат MSIX. Оно включает интерактивный пользовательский интерфейс и командную строку для преобразования, позволяя преобразовывать приложения без использования исходного кода. 

Более ранние версии инструмента с именем [Desktop App Converter](desktop-to-uwp-run-desktop-app-converter.md) по-прежнему доступна для переупаковки существующего пакета приложения на рабочем столе. Тем не менее этот инструмент устарел, и мы рекомендуем использовать вместо этого средства упаковки MSIX.

В следующей таблице показаны поддерживаемые версии Windows 10 и пакет форматы для этих средств.

|  Инструмент  | Поддерживаемые версии операционной системы для создания пакетов  | Поддерживаемые версии операционной системы для установленных пакетов  |  Поддерживаемые форматы пакета  |
|-----------------------------|-----------------------------------------------|-----------------------------------------------|-----------------------------|
|  [Средство упаковки MSIX](../mpt-overview.md)        |  Windows 10, версия 1809 и более поздние версии           | Windows 10, версия 1709 и более поздние версии            |  только .msix                 |
|  [Desktop App Converter](desktop-to-uwp-run-desktop-app-converter.md)        |  Windows 10 (версия 1607 или выше)           | Windows 10 (версия 1607 или выше)            |  .appx only    |

Чтобы начать работу с помощью средства упаковки MSIX, см. в статьях:

* [Создание пакета MSIX из установщика (MSI, EXE или App-V) на виртуальной Машине](../packaging-tool/create-app-package-msi-vm.md)
* [Создание пакета MSIX типов с помощью другого установщика](../packaging-tool/create-other-installer.md)
* [Создать пакет MSIX, с помощью командной строки](../packaging-tool/package-conversion-cli.md)

### <a name="build-an-msix-from-source-code-using-visual-studio"></a>Построение MSIX из исходного кода, с помощью Visual Studio

Если вы сопровождаете приложение с помощью Visual Studio и оно не имеет установщика или ваш установщик не выполняет большого количества сложных задач, попробуйте использовать Visual Studio.

Visual Studio упрощает создание пакета. Вы добавите **проект пакета приложения Windows** к решению, ссылки на проект рабочего стола, и нажмите клавишу F5 для отладки приложения. Далее перечислены несколько дополнительных возможностей.

:heavy_check_mark: Автоматически создавать визуальные активы.

:heavy_check_mark: Внесите изменения в манифест с помощью визуального конструктора.

:heavy_check_mark: Создаете пакет с помощью мастера.

:heavy_check_mark: Легко назначить удостоверение для приложения из имени, которое уже зарезервированы в [центра партнеров](https://partner.microsoft.com/dashboard).

Инструкции см. в разделе [упаковка классического приложения с помощью Visual Studio](desktop-to-uwp-packaging-dot-net.md). В следующей таблице показаны поддерживаемые версии Visual Studio, Windows 10 и форматов пакетами.

|  Поддерживаемые версии Visual Studio | Поддерживаемые версии операционной системы для создания пакетов  | Поддерживаемые версии операционной системы для установленных пакетов  |  Поддерживаемые форматы пакета  |
|-----------------------------|-----------------------------------------------|-----------------------------------------------|-----------------------------|
|  Visual Studio 2019<br/>Visual Studio 2017 15.5 и более поздних версий       |  Windows 10 (версия 1607 или выше)           |  Windows 10 (версия 1607 или выше)            |  .msix (для Windows 10 версии 1709 и более поздние версии)<br/>AppX (для Windows 10 версии 1607 и более поздние версии)                 |

### <a name="third-party-installers"></a>Сторонние установщики

Несколько популярных продуктов независимых производителей и установщики теперь поддерживают возможность упаковки классического приложения. Дополнительные сведения и список этих продуктов независимых производителей, см. в разделе [упаковки классического приложения, использование установщиков сторонних](desktop-to-uwp-third-party-installer.md).

### <a name="manual-packaging"></a>Упаковка вручную

Как последний параметр не используя ни одну из этих средств можно преобразовать приложения. Если вы предпочитаете детальный контроль над преобразованием, можно создать файл манифеста и затем запустить средство **MakeAppx.exe**, чтобы создать пакет приложения для Windows.

См. в разделе [вручную упаковать настольного приложения](desktop-to-uwp-manual-conversion.md).

## <a name="add-modern-windows-10-experiences"></a>Добавьте современные интерфейсы Windows 10

После создания пакета MSIX для вашего приложения, вы можете использовать API универсальной платформы Windows, пакет расширения, и компоненты UWP умения для оживления современных и привлекательных приложений Windows 10 таких как интерактивные плитки и уведомления.

### <a name="enhance-with-uwp-apis"></a>Расширьте свои возможности с API-интерфейсов универсальной платформы Windows

После упаковки приложения вы можете улучшить его с помощью таких функций, как живые плитки и push-уведомления. Некоторые из этих возможностей может значительно повысить уровень взаимодействия приложения и стоимость немного времени для добавления. Для некоторых возможностей требуется добавить небольшой код.

См. в разделе [используйте API-интерфейсы универсальной платформы Windows в настольных приложениях](https://docs.microsoft.com/windows/apps/desktop/modernize/desktop-to-uwp-enhance).

### <a name="integrate-with-package-extensions"></a>Интеграция с использованием расширений пакета

Если приложению требуется интеграция с системой (например: установить правила брандмауэра), описать эти объекты в манифесте пакета приложения и системы сделает все остальное. Для большинства этих задач вам вообще не придется писать код. Используя фрагмент XML-кода в манифесте вы можете выполнять действия, как запустить процесс, при входе пользователя в систему, интегрировать приложения в проводнике, приложение и добавьте список печати целевых объектов, которые отображаются в других приложениях.

См. в разделе [интегрировать своего настольного приложения с помощью расширений пакета](https://docs.microsoft.com/windows/apps/desktop/modernize/desktop-to-uwp-extensions).

### <a name="extend-with-uwp-components"></a>Расширение возможностей с помощью компонентов UWP

Некоторые возможности Windows 10, такие как страницы с подходящим для сенсорного ввода интерфейсом, должны выполняться внутри современного контейнера приложения. Как правило, сначала необходимо определить, можно ли добавить ваше взаимодействие путем [усовершенствования](https://docs.microsoft.com/windows/apps/desktop/modernize/desktop-to-uwp-enhance) существующего классического приложения с помощью API-интерфейсов UWP. При наличии для использования компонента универсальной платформы Windows, чтобы реализовать принцип, можно добавить в решение проект универсальной платформы Windows и использовать службы приложений для обмена данными между своего настольного приложения и компонента универсальной платформы Windows.

См. в разделе [расширения своего настольного приложения с помощью универсальной платформы Windows компоненты](https://docs.microsoft.com/windows/apps/desktop/modernize/desktop-to-uwp-extend).

## <a name="test"></a>Тестирование

Тестирование приложения в реалистичных условиях в процессе подготовки для распространения, желательно подписать приложение и установите его. См. [Тестирование приложения](desktop-to-uwp-debug.md#test-your-app).

>[!IMPORTANT]
> Если вы планируете опубликовать приложение в Microsoft Store, убедитесь, что приложение правильно работает на устройствах под управлением Windows 10 в режиме S. Это обязательное требование Store. См. [Тестирование приложения для Windows 10 в S-режиме](desktop-to-uwp-test-windows-s.md).

## <a name="validate"></a>Проверить

Чтобы предоставить приложению, опубликованных на Microsoft Store или что необходимо для получения максимальной вероятности [сертификации Windows](https://go.microsoft.com/fwlink/p/?LinkID=309666), проверить и протестировать на локальном компьютере до их отправки на сертификацию.

Если вы используете приложения уровня данных для упаковки приложения, можно использовать новый ``-Verify`` флаг, чтобы проверить пакет упакованные приложения рабочего стола и требованиями Store. См. в разделе [упаковать приложение, подписать приложение и подготовить его для отправки Store](desktop-to-uwp-run-desktop-app-converter.md#optional-parameters).

Если вы используете Visual Studio, вы можете проверить приложение от **создание пакетов приложения** мастера. См. раздел [Создания файла пакета отправки приложения](https://docs.microsoft.com/windows/uwp/packaging/packaging-uwp-apps#create-an-app-package-upload-file).

Чтобы запустить средство вручную, см. раздел [Комплект сертификации приложений для Windows](/windows/uwp/debug-test-perf/windows-app-certification-kit).

Чтобы ознакомиться со списком тестов, используемых в комплекте сертификации приложений для Windows для проверки вашего приложения, см. раздел [Тесты для приложения, перенесенного из классического приложения для Windows](/windows/uwp/debug-test-perf/windows-desktop-bridge-app-tests).

## <a name="distribute"></a>Распространение

Опубликовав ее в Microsoft Store или загружая файл неопубликованного приложения можно распространять его на других системах.

См. в разделе [распределить упакованные приложения на рабочем столе](/windows/apps/desktop/modernize/desktop-to-uwp-distribute).

## <a name="support-and-feedback"></a>Поддержка и отзывы

**Найдите ответы на ваши вопросы**

Есть вопросы? Задайте их на Stack Overflow. Наша команда следит за этими [тегами](https://stackoverflow.com/questions/tagged/project-centennial+or+desktop-bridge). Вы также можете задать нам вопросы [здесь](https://social.msdn.microsoft.com/Forums/home?filter=alltypes&sort=relevancedesc&searchTerm=%5BDesktop%20Converter%5D).

**Отправить отзыв или предложения по функциям**

См. раздел [UserVoice](https://wpdev.uservoice.com/forums/110705-universal-windows-platform/category/161895-desktop-bridge-centennial)
