---
title: Создание пакета MSIX из установщика (MSI, EXE или App-V) на виртуальной Машине
description: Создание пакета MSIX из установщика (MSI, EXE или App-V) на виртуальной Машине
author: mcleanbyron
ms.author: mcleans
ms.date: 02/11/2019
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.custom: RS5
ms.openlocfilehash: 457f9a0358cb8e72abd9539d1a4fe3131ffd2a54
ms.sourcegitcommit: bc3f2bf9fe105576d0cc047d95b3f0de36fbc8b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/30/2019
ms.locfileid: "66400809"
---
# <a name="create-an-msix-package-from-a-desktop-installer-msi-exe-or-app-v-on-a-vm"></a>Создание пакета MSIX из установщика (MSI, EXE или App-V) на виртуальной Машине

<div class="nextstepaction"><p><a class="x-hidden-focus" href="https://www.microsoft.com/en-us/p/msix-packaging-tool/9n5lw3jbcxkf" data-linktype="external">Получить средство упаковки MSIX</a></p></div>

Можно использовать [средство упаковки MSIX](../mpt-overview.md) для создания пакета приложения MSIX из существующего установщика MSI, EXE или App-V на виртуальной машине Hyper-V (VM). Виртуальная машина должны удовлетворять следующим требованиям:

- Он должен быть настроен на [прием удаленных команд](https://docs.microsoft.com/windows-server/virtualization/hyper-v/manage/remotely-manage-hyper-v-hosts) (запустите [Enable-PSRemoting](https://docs.microsoft.com/powershell/module/Microsoft.PowerShell.Core/Enable-PSRemoting?view=powershell-5.1) команду на виртуальной Машине)
- Он должен работать под управлением Windows 10, версия 1809 или более поздней версии Windows.

При первом запуске средства, вам будет предложено предоставить согласие на отправку данных телеметрии. Важно отметить, что диагностические данные, которые вы предоставляете общий доступ только поступает из приложения и никогда не используется для идентификации или связаться с вами. Это просто позволит нам помогает быстрее для вас.

Создание пакета приложения является наиболее часто используемый параметр. Это связано с которой будет создаваться пакет MSIX из установщика или с ручной установки полезных данных приложения.

![pic1](images/pic1.png)

## <a name="choose-the-installer-you-want-to-package"></a>Выберите установщик, который нужно включить в пакет

![Рис2](images/pic2.png)

Перейдите к установщик MSI или App-V, щелкнув **Обзор** и выбор установщика в средстве выбора файлов. Затем нажмите кнопку **Далее**.

Дополнительные возможности:
- Флажок в области **использовать существующий пакет MSIX**, найдите и выберите существующий пакет MSIX вы хотите обновить.
- Флажок в области **использование аргументов установщика** и введите требуемый аргумент в предоставленном поле. Здесь можно ввести любую строку.
- Флажок в области **подписать пакет для тестирования**найдите и выберите файл сертификата PFX-файл. Если сертификат защищен паролем, введите пароль в поле "пароль".

## <a name="packaging-method"></a>Метод упаковки

![образы/pic3](images/pic3.png)

- Выберите виртуальную машину для упаковки среды.
  - Выберите **создать пакет на существующей виртуальной машины** и в раскрывающемся списке выберите имя существующей виртуальной машины. Откроется с полями и пароля пользователя ввести учетные данные для виртуальной Машины, если таковые имеются.
  - Нажмите кнопку **Далее**.

## <a name="package-information"></a>Сведения о пакете

![образы/pic4](images/pic4.png)

Когда вы выберете для упаковки приложения на существующей виртуальной машины, необходимо указать сведения о приложении. Средство попытается автоматически заполняется эти поля, основанные на данных, доступных из установщика. Всегда будет иметь возможность обновить записи, при необходимости. Если поле как звездочка *, это обязательно, но вы уже знаете это. Встроенная справка предоставляется в том случае, если операция не допускается.
- Имя пакета:
    - Требуется и соответствующий пакет identity имя в манифесте для описания содержимого пакета.
    - Должны соответствовать сведениям имя субъекта сертификата, используемого для подписи пакета.
    - Не отображается для конечного пользователя.
    - С учетом регистра и не может содержать пробел.
    - Может принимать строку длиной от 3 до 50 символов, состоящий из буквенно цифровых, периода и дефисов.
    - Не может заканчиваться точкой и принимать одно из следующих: «CON», «PRN», «AUX», «NUL», «COM1», «COM2», «COM3», «COM4», «COM5», «COM6», «COM7», «COM8», «COM9», «LPT1», «LPT2», «LPT3», «LPT4», «LPT5», «LPT6», «LPT7», «LPT8» и «LPT9».
- Отображаемое имя пакета:
    - Требуется и соответствующий пакет в манифесте для отображения имени пакета, понятное для пользователя, в меню "Пуск" и параметры страницы.
    - Поле принимает строкой длиной от 1 до 256 символов в длину и допускает локализацию.
- Имя издателя:
    - Требуется и соответствующий пакет, который описывает сведения об издателе.
    - Атрибут Publisher должно соответствовать сведений о субъекте издателя сертификата, используемого для подписи пакета.
    - Это поле принимает строкой длиной от 1 до 8192 символов длиной, которая подходит для регулярного выражения отличительного имени: "(CN | L | O | ПОДРАЗДЕЛЕНИЕ | E | C | S | УЛИЦА | T | G | Я | SN | DC | SERIALNUMBER | Описание | PostalCode | POBox | Телефон | X21Address | dnQualifier | (ИДЕНТИФИКАТОР ОБЪЕКТА. (0 | [1-9] [0-9]) (. (0 | [1-9] [0-9])) ) +) = (([^, += "<> #;]) + | ".") (, ((CN | L | O | ПОДРАЗДЕЛЕНИЕ | E | C | S | УЛИЦА | T | G | Я | SN | DC | SERIALNUMBER | Описание | PostalCode | POBox | Телефон | X21Address | dnQualifier | (ИДЕНТИФИКАТОР ОБЪЕКТА. (0 | [1-9] [0-9]) (. (0 | [1-9] [0-9])) ) +) = (([^, += "<> #;]) + | "."))) *".
- Отображаемое имя издателя:
    - Требуется и соответствующий пакет в манифесте, чтобы отображать имя издателя, понятное для пользователя, в установщик приложения и параметры страницы.
    - Поле принимает строкой длиной от 1 до 256 символов в длину и допускает локализацию.
- Версия:
    - Требуется и соответствующий пакет в манифесте для описания номер версии пакета.
    - Это поле принимает строку версии в формате из четырех: «Основная.дополнительная.сборка.редакция».
- Расположение установки:
    - Это расположение, что установщик будет копировать полезные данные приложения (обычно файлы программы папку).
    - Это поле является необязательным, но рекомендуется использовать специально при полезные данные приложения устанавливается за пределами папки Program Files.
    - Найдите и выберите путь к папке.
    - Убедитесь, что этот файл совпадает с расположением установки установщика при выполнении операции установки приложения.

## <a name="prepare-computer"></a>Подготовка компьютера

![образы/pic5](images/pic5.png)

Далее, **Подготовка компьютера** странице представлены параметры, чтобы подготовить компьютер для упаковки.

Необходим драйвер средство упаковки MSIX и средство автоматически попытается включить ее, если она не включена. Средство проверит, во-первых, с помощью DISM, чтобы определить, установлен ли драйвер.

> [!NOTE]
> Драйвер средство упаковки MSIX отслеживает систему для записи изменений, которые делает установщик в системе, что позволяет MSIX средство упаковки для создания пакета, с учетом этих изменений.

- [Необязательно] Установите флажок для **Windows Search активен** и выберите **отключить выбранные** Если вы решили отключить службу поиска.
    - Это не является обязательным, рекомендуется только.
    - После отключения, это средство обновляет поле состояния «disabled»

- [Необязательно] Установите флажок для **Windows Update активен** и выберите **отключить выбранные** Если вы решили отключить службу обновления.
    - Это не является обязательным, рекомендуется только.
    - После отключения, это средство обновляет поле состояния для **отключена**.

- **Ожидается перезагрузка** флажок отключен по умолчанию. Вам потребуется вручную перезагрузить компьютер и затем запустите средство еще раз при появлении ожидающие операции нужна перезагрузка. Это не требуется, только рекомендуется.

Закончив подготовку компьютера, нажмите кнопку **Далее**.

## <a name="installation"></a>Установка

![образы/pic6](images/pic6.png)

- Это этап установки, откуда контролирует это средство и записи приложения установить операций.
- Средство будет запущено установщика в окне виртуальной машины, которое он открыт в более ранней стадии, и вам потребуется перейти в мастере установщика для установки приложения.
    - Убедитесь, что путь установки соответствует определенному ранее на странице пакета.
    - Необходимо создать ярлык на рабочий стол для только что установленного приложения.
    - После завершения мастера установки приложения, убедитесь, что после завершения или закрытия мастера установки.
    - Если требуется для выполнения нескольких установщиков выполнять, вручную на этом этапе.
    - Если приложению требуется другие предварительные условия, необходимо установить их сейчас.
    - Если приложению .net 3.5/20, добавьте дополнительный компонент Windows.
- После завершения установки приложения, нажмите кнопку **Далее**.

## <a name="manage-first-launch-tasks"></a>Первый запуск задачи управления

![образы/pic7](images/pic7.png)

На этой странице отображаются исполняемых файлов приложений, средство записи. Мы рекомендуем, запустив приложение по крайней мере один раз для записи любой первого запуска задачи.

При наличии нескольких приложений, установите флажок, соответствующий главную точку входа. Если вы не видите здесь .exe приложения, вручную перейдите к и запустите его.

Нажмите кнопку **Далее** будет выведен запрос с помощью всплывающего запроса на подтверждение, что Вы завершили установку приложения и управление ими первого запуска задачи.
- Если все будет готово, нажмите кнопку **Да — переход**.
- Если вы не закончили, нажмите кнопку **нет, я не использую**. Вы будете перенаправлены обратно к последней странице где запускать приложения, установить или скопировать в другие файлы и библиотеки DLL или исполняемых файлов.

## <a name="create-package"></a>Создание пакета

![образы/pic8](images/pic8.png)

- Укажите расположение для сохранения пакета MSIX.
- По умолчанию пакеты сохраняются в папке данных локального приложения.
- В меню "Параметры" можно определить значение по умолчанию расположение сохранения.
- Если вы хотите продолжить редактирование перед сохранением пакета MSIX содержимое и свойства пакета, можно выбрать «Редактор пакета», а затем перенестись в редактор пакета.
- Если вы хотите подписать пакет с помощью готового сертификата для тестирования, найдите и выберите сертификат.
- Нажмите кнопку **создать** для создания пакета MSIX.

Будет выведен список с pop up при создании пакета. Это всплывающее окно до будет включать имя, издатель и для сохранения созданного пакета. Вы можете замкнуть pop и перейдете на страницу приветствия. Можно также выбрать пакет редактора см. в разделе и изменение свойств и содержимого пакета.
